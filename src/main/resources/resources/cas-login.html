<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>CAS 登录</title>
    <script src="http://res.wx.qq.com/connect/zh_CN/htmledition/js/wxLogin.js"></script>
    <script>
        function sendSmsCode() {
            const mobile = document.getElementById("mobile").value;
            if (mobile === "" || mobile.length !== 11) {
                alert("手机号码不正确，请重新输入")
                return
            }
            const xmlhttp = new XMLHttpRequest();
            xmlhttp.open("GET", `/code/sms?mobile=${mobile}&deviceId=123`, true);
            xmlhttp.send();
        }
    </script>
</head>
<body>
<h1>标准登录</h1>
<h3>表单登录</h3>
<form action="/login/image?deviceId=243" method="POST">
    <table>
        <tr>
            <td>用户名：</td>
            <td><input type="text" name="username"></td>
        </tr>
        <tr>
            <td>密码：</td>
            <td><input type="password" name="password"></td>
        </tr>
        <tr>
            <td>验证码：</td>
            <td><input type="text" name="imageCode"><img src="/code/image?deviceId=243" alt=""></td>
        </tr>
        <tr>
            <td colspan="2">
                <button type="submit">登录</button>
            </td>
        </tr>
    </table>
</form>
<hr>
<form action="/login/mobile?deviceId=123" method="POST">
    <table>
        <tr>
            <td>手机号码：</td>
            <td><label>
                <input type="text" name="mobile" id="mobile">
            </label></td>
        </tr>
        <tr>
            <td>验证码：</td>
            <td><label>
                <input type="text" name="smsCode">
            </label>
                <button type="button" onclick="sendSmsCode()">发送验证码</button>
            </td>
        </tr>
        <tr>
            <td colspan="2">
                <button type="submit">登录</button>
            </td>
        </tr>
    </table>
</form>
<hr>
<h1>自定义OAuth2登录页</h1>
<div>
    <a href="/oauth2/authorization/github">Github登录</a>
    <a href="/oauth2/authorization/qq">QQ登录</a>
    <a href="/oauth2/authorization/wechat">微信登录</a>
</div>
</body>
</html>